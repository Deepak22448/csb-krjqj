(this["webpackJsonpweb-dev-sim"]=this["webpackJsonpweb-dev-sim"]||[]).push([[0],{30:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(11),i=n.n(r),s=(n(29),n(6)),d=(n(30),n(38)),u=n(43),o=n(44),l=n(42),j=n(37),b=new Intl.NumberFormat(void 0,{currency:"usd",style:"currency",minimumFractionDigits:0}),m=n(1),x=function(e){var t=e.name,n=e.amount,c=e.max,a=e.gray,r=e.onAddExpenseClick,i=e.hideButtons,s=e.onViewExpenseClick,d=[];n>c?d.push("bg-danger","bg-opacity-10"):a&&d.push("bg-light");return Object(m.jsx)(l.a,{className:d.join(" "),children:Object(m.jsxs)(l.a.Body,{children:[Object(m.jsxs)(l.a.Title,{className:"d-flex justify-content-between align-items-baseline fw-normal mb-3",children:[Object(m.jsx)("div",{className:"me-3",children:t}),Object(m.jsxs)("div",{className:"d-flex align-items-baseline",children:[b.format(n),c&&Object(m.jsxs)("span",{className:"text-muted fs-6 ms-1",children:["/ ",b.format(c)," "]})]})]}),c&&Object(m.jsx)(j.a,{className:"rounded-pill",variant:function(e,t){var n=e/t;return n<.5?"primary":n<.75?"warning":"danger"}(n,c),min:0,max:c,now:n}),!i&&Object(m.jsxs)(u.a,{direction:"horizontal",gap:"2",className:"mt-4",children:[Object(m.jsx)(o.a,{variant:"outline-primary",className:"ms-auto",onClick:r,children:"Add Expense"}),Object(m.jsxs)(o.a,{onClick:s,variant:"secondary",children:["View Expenses"," "]})]})]})})},O=n(39),f=n(40),h=n(2),p=n(12),g=n(41);function v(e,t){var n=Object(c.useState)((function(){var n=localStorage.getItem(e);return null!=n?JSON.parse(n):"function"===typeof t?t():t})),a=Object(s.a)(n,2),r=a[0],i=a[1];return Object(c.useEffect)((function(){localStorage.setItem(e,JSON.stringify(r))}),[e,r]),[r,i]}var y="uncategorized",N=a.a.createContext();function C(){return Object(c.useContext)(N)}var B=function(e){var t=e.children,n=v("budgets",[]),c=Object(s.a)(n,2),a=c[0],r=c[1],i=v("expenses",[]),d=Object(s.a)(i,2),u=d[0],o=d[1];return Object(m.jsx)(N.Provider,{value:{budgets:a,expenses:u,getBudgetExpense:function(e){return u.filter((function(t){return t.budgetId===e}))},addExpense:function(e){var t=e.description,n=e.amount,c=e.budgetId;o((function(e){return[].concat(Object(p.a)(e),[{id:Object(g.a)(),description:t,amount:n,budgetId:c}])}))},addBudget:function(e){var t=e.name,n=e.max;r((function(e){return e.find((function(e){return e.name===t}))?e:[].concat(Object(p.a)(e),[{id:Object(g.a)(),name:t,max:n}])}))},deleteBudget:function(e){var t=e.id;o((function(e){return e.map((function(e){return e.budgetId!==t?e:Object(h.a)(Object(h.a)({},e),{},{budgetId:y})}))})),r((function(e){return e.filter((function(e){return e.id!==t}))}))},deleteExpense:function(e){var t=e.id;o((function(e){return e.filter((function(e){return e.id!==t}))}))}},children:t})},w=function(e){var t=e.show,n=e.handleClose,a=Object(c.useRef)(),r=Object(c.useRef)(),i=C().addBudget;return Object(m.jsx)(O.a,{show:t,onHide:n,children:Object(m.jsxs)(f.a,{onSubmit:function(e){e.preventDefault(),i({name:a.current.value,max:parseFloat(r.current.value)}),n()},children:[Object(m.jsx)(O.a.Header,{closeButton:!0,children:Object(m.jsx)(O.a.Title,{children:" New Budget "})}),Object(m.jsxs)(O.a.Body,{children:[Object(m.jsxs)(f.a.Group,{className:"mb-3",controlId:"name",children:[Object(m.jsx)(f.a.Label,{children:"Name"}),Object(m.jsx)(f.a.Control,{ref:a,type:"text",required:!0})]}),Object(m.jsxs)(f.a.Group,{className:"mb-3",controlId:"Max",children:[Object(m.jsx)(f.a.Label,{children:"Maximum Spending"}),Object(m.jsx)(f.a.Control,{ref:r,type:"number",required:!0,min:0,step:.01})]}),Object(m.jsx)("div",{className:"d-felx justify-content-end",children:Object(m.jsxs)(o.a,{variant:"primary",type:"submit",children:[" ","Add"]})})]})]})})},E=function(e){var t=e.show,n=e.handleClose,a=e.defaultBudgetId,r=Object(c.useRef)(),i=Object(c.useRef)(),s=Object(c.useRef)(),d=C(),u=d.addExpense,l=d.budgets;return Object(m.jsx)(O.a,{show:t,onHide:n,children:Object(m.jsxs)(f.a,{onSubmit:function(e){e.preventDefault(),u({description:r.current.value,amount:parseFloat(i.current.value),budgetId:s.current.value}),n()},children:[Object(m.jsx)(O.a.Header,{closeButton:!0,children:Object(m.jsx)(O.a.Title,{children:" New Expense "})}),Object(m.jsxs)(O.a.Body,{children:[Object(m.jsxs)(f.a.Group,{className:"mb-3",controlId:"description",children:[Object(m.jsx)(f.a.Label,{children:"Description"}),Object(m.jsx)(f.a.Control,{ref:r,type:"text",required:!0})]}),Object(m.jsxs)(f.a.Group,{className:"mb-3",controlId:"amount",children:[Object(m.jsx)(f.a.Label,{children:"Maximum Expense"}),Object(m.jsx)(f.a.Control,{ref:i,type:"number",required:!0,min:0,step:.01})]}),Object(m.jsxs)(f.a.Group,{className:"mb-3",controlId:"budgetId",children:[Object(m.jsx)(f.a.Label,{children:"Budget"}),Object(m.jsxs)(f.a.Select,{defaultValue:a,ref:s,children:[Object(m.jsx)("option",{id:y,children:y}),l.map((function(e){return Object(m.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(m.jsx)("div",{className:"d-felx justify-content-end",children:Object(m.jsx)(o.a,{variant:"primary",type:"submit",children:"Add"})})]})]})})},I=function(e){var t=(0,C().getBudgetExpense)(y).reduce((function(e,t){return e+t.amount}),0);return 0===t?null:Object(m.jsx)(x,Object(h.a)({amount:t,name:"uncategorized"},e))},S=function(){var e=C(),t=e.expenses,n=e.budgets,c=t.reduce((function(e,t){return e+t.amount}),0),a=n.reduce((function(e,t){return e+t.max}),0);return 0===a?null:Object(m.jsx)(x,{amount:c,name:"Total",max:a,hideButtons:!0})},k=function(e){var t=e.budgetId,n=e.handleClose,c=C(),a=c.getBudgetExpense,r=c.budgets,i=c.deleteBudget,s=c.deleteExpense,d=a(t),l=y===t?{name:"uncategorized",id:y}:r.find((function(e){return e.id===t}));return Object(m.jsxs)(O.a,{show:null!=t,onHide:n,children:[Object(m.jsx)(O.a.Header,{closeButton:!0,children:Object(m.jsxs)(O.a.Title,{children:[" ",Object(m.jsxs)(u.a,{direction:"horizontal",gap:"2",children:[Object(m.jsxs)("div",{className:"me-auto",children:[" Expenses- ",null===l||void 0===l?void 0:l.name]}),t!==y&&Object(m.jsx)(o.a,{variant:"outline-danger",size:"small",onClick:function(){i(l),n()},children:"Delete"})]})]})}),Object(m.jsx)(O.a.Body,{children:Object(m.jsx)(u.a,{directon:"vertical",gap:"3",children:d.map((function(e){return Object(m.jsxs)(u.a,{direction:"horizontal",gap:"2",children:[Object(m.jsx)("div",{className:"me-auto fs-4",children:e.description}),Object(m.jsx)("div",{className:"fs-5",children:b.format(e.amount)}),Object(m.jsx)(o.a,{size:"small",variant:"outline-danger",onClick:function(){return s(e)},children:"\xd7"})]},e.id)}))})})]})};function z(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),i=Object(s.a)(r,2),l=i[0],j=i[1],b=Object(c.useState)(),O=Object(s.a)(b,2),f=O[0],h=O[1],p=Object(c.useState)(""),g=Object(s.a)(p,2),v=g[0],y=g[1];function N(e){j(!0),y(e)}var B=C(),z=B.budgets,A=B.getBudgetExpense;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(d.a,{className:"my-4",children:[Object(m.jsxs)(u.a,{direction:"horizontal",gap:"2",className:"mb-4",children:[Object(m.jsx)("h1",{className:"me-auto",children:"Budgets"}),Object(m.jsx)(o.a,{vairant:"primary",onClick:function(){return a(!0)},children:"Add Budget"}),Object(m.jsxs)(o.a,{variant:"outline-primary",onClick:function(){return N()},children:[" ","Add Expense"]})]}),Object(m.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(300px,1fr))",gap:"1rem",alignItems:"flex-start"},children:[z.map((function(e){var t=A(e.id).reduce((function(e,t){return e+t.amount}),0);return Object(m.jsx)(x,{name:e.name,amount:t,max:e.max,onAddExpenseClick:function(){return N(e.id)},onViewExpenseClick:function(){return h(e.id)},children:" "},e.id)})),Object(m.jsx)(I,{handleClose:function(){j(!1)},onViewExpenseClick:function(){return h("uncategorized")}}),Object(m.jsx)(S,{})]})]}),Object(m.jsx)(w,{show:n,handleClose:function(){a(!1)}}),Object(m.jsx)(k,{budgetId:f,handleClose:function(){h()}}),Object(m.jsx)(E,{show:l,defaultBudgetId:v,handleClose:function(){j(!1)}})]})}var A=document.getElementById("root");i.a.render(Object(m.jsx)(c.StrictMode,{children:Object(m.jsx)(B,{children:Object(m.jsx)(z,{})})}),A)}},[[34,1,2]]]);
//# sourceMappingURL=main.87d67632.chunk.js.map